<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NorthVia - Nigeria's Premier E-commerce Platform</title>
    <meta name="description" content="Discover thousands of products from verified vendors across Nigeria. Shop electronics, fashion, home goods and more with secure payments and fast delivery.">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo">NorthVia</a>
                
                <ul class="nav-menu" id="navMenu">
                    <li><a href="/">Home</a></li>
                    <li><a href="/products.html">Products</a></li>
                    <li><a href="/vendors.html">Vendors</a></li>
                    <li><a href="/categories.html">Categories</a></li>
                    <li><a href="/about.html">About</a></li>
                    <li><a href="/contact.html">Contact</a></li>
                </ul>

                <div class="nav-actions">
                    <!-- Guest Navigation -->
                    <div id="guestNav" class="nav-actions">
                        <a href="/login.html" class="btn btn-outline">Login</a>
                        <a href="/register.html" class="btn btn-primary">Sign Up</a>
                    </div>
                    
                    <!-- User Navigation (hidden by default) -->
                    <div id="userNav" class="nav-actions" style="display: none;">
                        <a href="/cart.html" class="btn btn-outline">
                            Cart <span id="cartCount" class="cart-badge" style="display: none;">0</span>
                        </a>
                        <div class="user-menu">
                            <span>Hi, <span id="userName">User</span></span>
                            <a href="/dashboard.html" class="btn btn-outline">Dashboard</a>
                            <button onclick="logout()" class="btn btn-primary">Logout</button>
                        </div>
                    </div>
                    
                    <button id="menuToggle" class="menu-toggle" style="display: none;">‚ò∞</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Welcome to NorthVia</h1>
            <p>Nigeria's Premier Multi-Vendor E-commerce Platform</p>
            <p>Discover thousands of products from verified vendors across Nigeria with secure payments and fast delivery</p>
            <div class="hero-actions">
                <a href="/products.html" class="btn btn-primary">Shop Now</a>
                <a href="/vendors.html" class="btn btn-outline">Become a Vendor</a>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section" style="background: white; padding: 2rem 0;">
        <div class="container">
            <form id="searchForm" class="search-form" style="max-width: 600px; margin: 0 auto; display: flex; gap: 1rem;">
                <input 
                    type="text" 
                    name="q" 
                    placeholder="Search for products, brands, or categories..." 
                    class="form-control" 
                    style="flex: 1;"
                >
                <button type="submit" class="btn btn-primary">Search</button>
            </form>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title">Why Choose NorthVia?</h2>
                <p class="section-subtitle">Experience the best of Nigerian e-commerce</p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <h3>Secure Payments</h3>
                    <p>Multiple secure payment options including Paystack, Flutterwave, and bank transfers with fraud protection.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üöö</div>
                    <h3>Fast Delivery</h3>
                    <p>Quick and reliable delivery across Nigeria with real-time tracking and multiple shipping options.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">‚úÖ</div>
                    <h3>Verified Vendors</h3>
                    <p>All vendors undergo thorough KYC verification to ensure quality products and reliable service.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Quality Assurance</h3>
                    <p>Advanced fraud prevention and quality control measures to protect your purchases.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üí¨</div>
                    <h3>24/7 Support</h3>
                    <p>Round-the-clock customer support to help with any questions or concerns.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Mobile Friendly</h3>
                    <p>Optimized for mobile devices so you can shop anytime, anywhere.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products Section -->
    <section class="products">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title">Featured Products</h2>
                <p class="section-subtitle">Discover our top-rated products</p>
            </div>
            
            <div class="products-grid" id="featuredProducts">
                <!-- Products will be loaded dynamically -->
                <div class="product-card">
                    <div class="product-image">Loading Products...</div>
                    <div class="product-info">
                        <h3 class="product-title">Featured products loading...</h3>
                        <p class="product-price">Coming soon</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <a href="/products.html" class="btn btn-primary">View All Products</a>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories" style="background: white; padding: 4rem 0;">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title">Shop by Category</h2>
                <p class="section-subtitle">Find what you're looking for</p>
            </div>
            
            <div class="features-grid" id="categoriesList">
                <!-- Categories will be loaded dynamically -->
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Electronics</h3>
                    <p>Phones, laptops, gadgets and more</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üëî</div>
                    <h3>Fashion</h3>
                    <p>Clothing, shoes, and accessories</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üè†</div>
                    <h3>Home & Garden</h3>
                    <p>Furniture, decor, and appliances</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üçé</div>
                    <h3>Food & Beverages</h3>
                    <p>Fresh groceries and local delicacies</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section" style="background: #007bff; color: white; padding: 4rem 0; text-align: center;">
        <div class="container">
            <h2>Ready to Start Shopping?</h2>
            <p style="font-size: 1.2rem; margin-bottom: 2rem;">Join thousands of satisfied customers</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/register.html" class="btn" style="background: white; color: #007bff; border: 2px solid white;">Create Account</a>
                <a href="/products.html" class="btn btn-outline" style="border-color: white; color: white;">Browse Products</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>About NorthVia</h4>
                    <p>Nigeria's leading multi-vendor e-commerce platform connecting buyers with verified sellers nationwide.</p>
                    <p style="margin-top: 1rem;">
                        <strong>üìç Address:</strong> Lagos, Nigeria<br>
                        <strong>üìû Phone:</strong> +234 800 NORTHVIA<br>
                        <strong>‚úâÔ∏è Email:</strong> support@northvia.com
                    </p>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/about.html">About Us</a></li>
                        <li><a href="/contact.html">Contact Us</a></li>
                        <li><a href="/help.html">Help Center</a></li>
                        <li><a href="/faq.html">FAQ</a></li>
                        <li><a href="/shipping.html">Shipping Info</a></li>
                        <li><a href="/returns.html">Returns Policy</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Categories</h4>
                    <ul>
                        <li><a href="/category/electronics">Electronics</a></li>
                        <li><a href="/category/fashion">Fashion</a></li>
                        <li><a href="/category/home-garden">Home & Garden</a></li>
                        <li><a href="/category/food">Food & Beverages</a></li>
                        <li><a href="/category/books">Books & Media</a></li>
                        <li><a href="/category/sports">Sports & Recreation</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Vendor Center</h4>
                    <ul>
                        <li><a href="/vendor/register">Become a Vendor</a></li>
                        <li><a href="/vendor/login">Vendor Login</a></li>
                        <li><a href="/vendor/guide">Seller Guide</a></li>
                        <li><a href="/vendor/support">Vendor Support</a></li>
                        <li><a href="/affiliate">Affiliate Program</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 NorthVia. All rights reserved. | 
                   <a href="/privacy.html" style="color: #ccc;">Privacy Policy</a> | 
                   <a href="/terms.html" style="color: #ccc;">Terms of Service</a>
                </p>
            </div>
        </div>
    </footer>

    <script src="/assets/js/main.js"></script>
    <script>
        // Load featured products and categories on page load
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Load featured products
                const productsResponse = await fetch('/api/products/featured');
                if (productsResponse.ok) {
                    const productsData = await productsResponse.json();
                    if (productsData.success && productsData.data.length > 0) {
                        renderFeaturedProducts(productsData.data.slice(0, 6));
                    }
                }

                // Load categories
                const categoriesResponse = await fetch('/api/products/categories');
                if (categoriesResponse.ok) {
                    const categoriesData = await categoriesResponse.json();
                    if (categoriesData.success && categoriesData.data.length > 0) {
                        renderCategories(categoriesData.data.slice(0, 8));
                    }
                }
            } catch (error) {
                console.error('Error loading page data:', error);
            }
        });

        function renderFeaturedProducts(products) {
            const container = document.getElementById('featuredProducts');
            container.innerHTML = products.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        ${product.image_url ? 
                            `<img src="${product.image_url}" alt="${product.name}" style="width: 100%; height: 100%; object-fit: cover;">` :
                            `<span>No Image</span>`
                        }
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-price">${formatPrice(product.price)}</p>
                        <button class="btn btn-primary add-to-cart" data-product-id="${product.id}" style="width: 100%; margin-top: 0.5rem;">
                            Add to Cart
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function renderCategories(categories) {
            const container = document.getElementById('categoriesList');
            const icons = ['üì±', 'üëî', 'üè†', 'üçé', 'üìö', '‚öΩ', 'üíä', 'üéÆ'];
            
            container.innerHTML = categories.map((category, index) => `
                <div class="feature-card">
                    <div class="feature-icon">${icons[index] || 'üõçÔ∏è'}</div>
                    <h3><a href="/category/${category.slug}" style="text-decoration: none; color: inherit;">${category.name}</a></h3>
                    <p>${category.description || 'Discover great products'}</p>
                </div>
            `).join('');
        }
    </script>
</body>
</html>